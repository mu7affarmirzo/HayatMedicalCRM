
<!-- templates/dashboards/manager_dashboard.html -->
{% extends 'snippets/base.html' %}
{% load  static %}
{% block title %}{{ title }} - Hayat Medical Center{% endblock %}

{% block content %}
<div class="content-header">
    <div class="container-fluid">
        <div class="row mb-2">
            <div class="col-sm-6">
                <h1 class="m-0">{{ title }}</h1>
            </div>
            <div class="col-sm-6">
                <ol class="breadcrumb float-sm-right">
                    <li class="breadcrumb-item"><a href="#">Home</a></li>
                    <li class="breadcrumb-item active">Manager Dashboard</li>
                </ol>
            </div>
        </div>
    </div>
</div>

<section class="content">
    <div class="container-fluid">
        <!-- Manager Dashboard Content -->
        <div class="row">
            <div class="col-lg-3 col-6">
                <div class="small-box bg-info">
                    <div class="inner">
                        <h3>150</h3>
                        <p>Bookings</p>
                    </div>
                    <div class="icon">
                        <i class="fas fa-calendar-check"></i>
                    </div>
                    <a href="#" class="small-box-footer">
                        More info <i class="fas fa-arrow-circle-right"></i>
                    </a>
                </div>
            </div>

            <div class="col-lg-3 col-6">
                <div class="small-box bg-success">
                    <div class="inner">
                        <h3>₸89,600</h3>
                        <p>Revenue (This Month)</p>
                    </div>
                    <div class="icon">
                        <i class="fas fa-money-bill-wave"></i>
                    </div>
                    <a href="#" class="small-box-footer">
                        More info <i class="fas fa-arrow-circle-right"></i>
                    </a>
                </div>
            </div>

            <div class="col-lg-3 col-6">
                <div class="small-box bg-warning">
                    <div class="inner">
                        <h3>12</h3>
                        <p>Therapists</p>
                    </div>
                    <div class="icon">
                        <i class="fas fa-hands-helping"></i>
                    </div>
                    <a href="#" class="small-box-footer">
                        More info <i class="fas fa-arrow-circle-right"></i>
                    </a>
                </div>
            </div>

            <div class="col-lg-3 col-6">
                <div class="small-box bg-danger">
                    <div class="inner">
                        <h3>85%</h3>
                        <p>Occupancy Rate</p>
                    </div>
                    <div class="icon">
                        <i class="fas fa-chart-pie"></i>
                    </div>
                    <a href="#" class="small-box-footer">
                        More info <i class="fas fa-arrow-circle-right"></i>
                    </a>
                </div>
            </div>
        </div>

        <!-- Manager-specific content -->
        <div class="row">
            <div class="col-md-8">
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Financial Overview</h3>
                        <div class="card-tools">
                            <button type="button" class="btn btn-tool" data-card-widget="collapse">
                                <i class="fas fa-minus"></i>
                            </button>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="chart">
                            <canvas id="revenueChart" style="min-height: 250px; height: 250px; max-height: 250px; max-width: 100%;"></canvas>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-4">
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Top Services</h3>
                    </div>
                    <div class="card-body p-0">
                        <ul class="products-list product-list-in-card pl-2 pr-2">
                            <li class="item">
                                <div class="product-info">
                                    <a href="javascript:void(0)" class="product-title">Baby Massage
                                        <span class="badge badge-success float-right">₸12,500</span></a>
                                    <span class="product-description">
                                        28 sessions this month
                                    </span>
                                </div>
                            </li>
                            <li class="item">
                                <div class="product-info">
                                    <a href="javascript:void(0)" class="product-title">Postnatal Care
                                        <span class="badge badge-info float-right">₸9,800</span></a>
                                    <span class="product-description">
                                        15 sessions this month
                                    </span>
                                </div>
                            </li>
                            <li class="item">
                                <div class="product-info">
                                    <a href="javascript:void(0)" class="product-title">Spa Treatment
                                        <span class="badge badge-warning float-right">₸8,200</span></a>
                                    <span class="product-description">
                                        12 sessions this month
                                    </span>
                                </div>
                            </li>
                        </ul>
                    </div>
                    <div class="card-footer text-center">
                        <a href="javascript:void(0)" class="uppercase">View All Services</a>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header border-0">
                        <h3 class="card-title">Recent Bookings</h3>
                    </div>
                    <div class="card-body table-responsive p-0">
                        <table class="table table-striped table-valign-middle">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Patient</th>
                                    <th>Room</th>
                                    <th>Status</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>HMC-20250420-5673</td>
                                    <td>Aliya Karimbayeva</td>
                                    <td>Room 201</td>
                                    <td><span class="badge bg-success">Confirmed</span></td>
                                    <td><a href="#" class="text-muted"><i class="fas fa-search"></i></a></td>
                                </tr>
                                <tr>
                                    <td>HMC-20250419-7842</td>
                                    <td>Timur Asanov</td>
                                    <td>Room 105</td>
                                    <td><span class="badge bg-warning">Pending</span></td>
                                    <td><a href="#" class="text-muted"><i class="fas fa-search"></i></a></td>
                                </tr>
                                <tr>
                                    <td>HMC-20250418-2341</td>
                                    <td>Gulnara Tashkentova</td>
                                    <td>Room 302</td>
                                    <td><span class="badge bg-info">Checked In</span></td>
                                    <td><a href="#" class="text-muted"><i class="fas fa-search"></i></a></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div class="col-md-6">
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Therapist Performance</h3>
                    </div>
                    <div class="card-body p-0">
                        <ul class="users-list clearfix">
                            <li>
                                <img src="{% static 'adminlte3_assets/dist/img/user1-128x128.jpg' %}" alt="User Image">
                                <a class="users-list-name" href="#">Anar Aliyeva</a>
                                <span class="users-list-date">24 sessions</span>
                            </li>
                            <li>
                                <img src="{% static 'adminlte3_assets/dist/img/user8-128x128.jpg' %}" alt="User Image">
                                <a class="users-list-name" href="#">Marat Baitov</a>
                                <span class="users-list-date">19 sessions</span>
                            </li>
                            <li>
                                <img src="{% static 'adminlte3_assets/dist/img/user7-128x128.jpg' %}" alt="User Image">
                                <a class="users-list-name" href="#">Dinara Satpayeva</a>
                                <span class="users-list-date">15 sessions</span>
                            </li>
                            <li>
                                <img src="{% static 'adminlte3_assets/dist/img/user6-128x128.jpg' %}" alt="User Image">
                                <a class="users-list-name" href="#">Erlan Temirov</a>
                                <span class="users-list-date">12 sessions</span>
                            </li>
                        </ul>
                    </div>
                    <div class="card-footer text-center">
                        <a href="javascript:void(0)">View All Therapists</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
    $(function() {
        // Revenue chart
        var ctx = document.getElementById('revenueChart').getContext('2d');
        var revenueChart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                datasets: [{
                    label: 'Revenue',
                    data: [65000, 72000, 68000, 78000, 82000, 89600],
                    backgroundColor: 'rgba(60,141,188,0.2)',
                    borderColor: 'rgba(60,141,188,1)',
                    pointRadius: 3,
                    pointBackgroundColor: 'rgba(60,141,188,1)',
                    pointBorderColor: '#fff',
                    pointHoverBackgroundColor: '#fff',
                    pointHoverBorderColor: 'rgba(60,141,188,1)',
                    fill: true
                }]
            },
            options: {
                maintainAspectRatio: false,
                responsive: true,
                scales: {
                    y: {
                        beginAtZero: false
                    }
                }
            }
        });
    });
</script>
{% endblock %}